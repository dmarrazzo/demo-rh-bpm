import model.Order;
import model.Supplier;
import model.CheapestSupplier;

rule "cheapest supplier"
	when
		$o: Order();
		accumulate (Supplier($offer : offer) from $o.suppliers;
			$min : min($offer)
		) 
		$select: Supplier(selected == true, offer == $min) from $o.suppliers;
	then
		insertLogical( new CheapestSupplier());
		System.out.println("ok");
end